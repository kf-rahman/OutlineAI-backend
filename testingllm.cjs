/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 */

const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = "AIzaSyCf2OUI48rhKKeiiBmPEawC_L69fMsBA4w";
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "text/plain",
};

async function run() {
  const chatSession = model.startChat({
    generationConfig,
 // safetySettings: Adjust safety settings
 // See https://ai.google.dev/gemini-api/docs/safety-settings
    history: [
      {
        role: "user",
        parts: [
          {text: "can you extract all the importat dates from the following text that a student may find usefull \nVersion\n\n    Latest\n\n    Class Schedule\n    Instructor & TA (Teaching Assistant) Information\n    Course Description\n    Learning Outcomes\n    Tentative Course Schedule\n    Texts / Materials\n    Student Assessment\n    Assignment Screening\n    Notice of Recording\n    Administrative Policy\n    University Policy\n\n    Browse Outlines\n    Log Out\n\nIntroduction to Biostatistics Fall 2022\nSTAT 337\n\nPublished Sep 06, 2022\nClass Schedule\nCourse \tMeet Days \tMeet Time \tLocation \tInstructor(s)\nSTAT 337 001 [LEC] \t\nMonday, Wednesday -\nMon Wed\nSep 7 - Dec 6\n\t10:00AM - 11:20AM \tRCH 211 \t\nC. Cotton\ncecilia.cotton@uwaterloo.ca\nSTAT 337 101 [TUT] \t\nFriday -\nFridays\nSep 7 - Dec 6\n\t12:30PM - 01:20PM \tRCH 211 \t\nC. Cotton\ncecilia.cotton@uwaterloo.ca\nschedule data automatically refreshed daily\nInstructor & TA (Teaching Assistant) Information\n\nInstructor: Cecilia Cotton (she/her), ccotton@uwaterloo.ca\nOffice Hours: Monday and Tuesday, 1:00-2:30pm EDT (online by appointment, see LEARN for booking link)\n\nTeaching Assistants: TBA\nTERRITORIAL ACKNOWLEDGMENT\n\nWe acknowledge that we live and work on the traditional territory of ‎ the Attawandaron (Neutral), Anishinaabeg and Haudenosaunee peoples. The University of Waterloo is situated on the Haldimand Tract, the land promised to the Six Nations that includes ten kilometres on each side of the Grand River. \nCourse Description\nSTAT 337:\n\nThis course will provide an introduction to statistical methods in health research. Topics to be covered include types of medical data, measures of disease prevalence and incidence, age and sex adjustment of disease rates, sensitivity and specificity of diagnostic tests, ROC curves, measures of association between risk factors and disease, major sources of medical data in the Canadian context including surveys, registries, and clinical studies such as cohort studies, clinical trials and case-control studies. Papers from the medical literature will be used throughout to illustrate the concepts. Introduction to SAS for data analysis and an introduction to database management tools. [Offered: F]\n\nPrereq: (STAT 221 with a grade of at least 60%) or STAT 231 or 241. Antireq: HLTH 333, STAT 232\nCourse Communication\n\nThe course web page is available through http://learn.uwaterloo.ca for the purpose of distributing all course materials and announcements. Please review your email and notification settings. I recommend you subscribe to notifications related to Announcements so you don’t miss any important information.\n\nRegistered students will be enrolled in the class discussion board at http://piazza.com/uwaterloo.ca/fall2022/stat337. Questions related to the course content must be posted here. You can send a Piazza private message to the instructor/TAs if your question reveals part of an assignment solution. Please do not send content questions via email. The instructor/TAs will do our best to monitor the board and respond to questions during regular business hours (approx. Monday - Friday from 8:30am-4:30pm ET). Students are encouraged to respond to questions and help each other as well. I expect everyone to be respectful to each other, any posts that do not meet with the principles in Policy 33: Ethical Behaviour will be removed.\n\nIf you have a non-course content related question or concern you should feel free to email the instructor directly. Please send your emails from your uwaterloo.ca email address and include your student ID number.\nLearning Outcomes\nBy the end of this course students should be able to:\nQuantify the morbidity and mortality in a population through the estimation and standardization of incidence and prevalence rates.\nInterpret the results from a study in the medical literature and identify the key components of a medical research question.\nSelect an appropriate study design and outline the major design elements.\nPerform basic data management and analyses in SAS.\nSelect an appropriate measure of association and statistics analysis methodology for a given design. Calculate estimates and conduct hypothesis testing.\nCommunicate the results of a completed analysis to both statistician and non-statisticians.\nTentative Course Schedule\n\nA full schedule for the term is given below. The course content will be delivered through in-person lectures and SAS tutorials.\n\n    Lectures/Modules: The course is divided into seven modules and then into a total of 22 sub-modules (M1.1, M1.2, ...). Each 80 minute lecture will cover one sub-module. Slides for each sub-module will be posted to LEARN before class and scanned, written notes from the lecture will be posted within 24 hours.\n     \n    SAS Tutorials: The SAS tutorials (T0, T1, ...) provide an introduction to the SAS statistical programming language. We will learn how to import and manipulate datasets, perform basic statistical analyses, and create professional looking plots and graphs. The goal of this tutorial is to equip students with a basic understanding of SAS so that as their statistical education progresses they can continue to perform more complex analyses. Each tutorial consists of a self-learning lesson following by a short tutorial exercise to be completed on your personal laptop. The exercises are designed to align with material from each module and highlight important concepts covered during that module. Students are encouraged to work together during the tutorial session. The instructor and/or TAs will be available to assist and answer questions. Tutorial exercises are due one week after the scheduled tutorial via Learn Dropboxes (see schedule below).\n     \n\nWeek\tDates\tTutorial and Lecture Topics\tReferences\tAssessment \n1\tWed 07-Sep\tM0 Introduction to Biostatistics\t \t \n \tFri 09-Sep\tNo tutorial today (complete T0 How to Access SAS University on your own this week)\t \t \n2\tMon 12-Sep\tM1.1 Incidence and Prevalence Rates\t2\t \n \tWed 14-Sep\tM1.2 Indirect Standardization\t \tA1 Released\n \tFri 16-Sep\tT1 Welcome to SAS\t \t \n3\tMon 19-Sep\tM1.3 Direct Standardization\t \t \n \tWed 21-Sep\tM2.1 Introduction to Medical Study Desigs\t3, 4\t \n \tFri 23-Sep\tT2 Standardization of Rates\t \tT1 Due 12:30pm\n4\tMon 26-Sep\tM2.2 Cross-Sectional Studies\t5, BaHamman et al.\t \n \tWed 28-Sep\tM2.3 Cohort Studies\t6, Steenstrup et al.\tA1 Due 11:59pm\n \tFri 30-Sep\tT3 Cohort Studies: Measures of Association\t \tT2 Due 12:30pm\n5\tMon 03-Oct\tM2.4 Hypothesis Testing for 2x2 Tables\t14.5, 15.1 – 15.3.1\t \n \tWed 05-Oct\tM3.1 Causation and Confounding\t1, 6.6, 10.1 – 10.2, 10.5, 11.1, 11.3 \tA2 Released\n \tFri 07-Oct\tT4 Chi-squared Tests, Confounding, and Sample Size\t \tT3 Due 12:30pm\n6\tMon 10-Oct\tThanksgiving\t \t \n \tWed 12-Oct\tReading Week (No class this week)\t \t \n \tFri 14-Oct\tReading Week (No tutorial this week)\t \t \n7\tMon 17-Oct\tM3.2 Multiple Linear Regression\t16 (except 16.3) \tProject Released\n \tWed 19-Oct\tM4.1 Case-Control Studies\t7.1 – 7.2, 7.4 – 7.5 \t \n \tFri 21-Oct\tT5 Linear Regression\t \tT4 Due 12:30pm\n8\tMon 24-Oct\tM4.2 Odds Ratios\t7.3\t \n \tWed 26-Oct\tM4.3 Confidence Intervals and Stratification\t14.4, Persaud et al.\tA2 Due 11:59pm, Deadline to form Project Groups\n \tFri 28-Oct\tT6 Analysis of Case-Control Studies\t \tT5 Due 12:30pm\n9\tMon 31-Oct\tMidterm Exam during Lecture Time\t \tMidterm Exam\n \tWed 02-Nov\tM4.4 Logistic Regression\t17.2\tA3 Released\n \tFri 04-Nov\tT7 Logistic Regression\t \tT6 Due 12:30pm\n10\tMon 07-Nov\tM5.1 Randomized Controlled Trials\t8.1 – 8.6, 8.9 \t \n \tWed 09-Nov\tM5.2 Analysis of Randomized Controlled Trials\t8.8, 9, Villa et al.\tProject Proposals Due\n \tFri 11-Nov\tT8 Randomized Controlled Trials\t \tT7 Due 12:30pm\n11\tMon 14-Nov\tM5.3 Vaccines and Infectious Disease Epidemiology\t \t \n \tWed 16-Nov\tM6.1 Diagnostic Testing and Screening Introduction\t12.1 – 12.4 \tA3 Due 11:59pm\n \tFri 18-Nov\tNo tutorial today\t \tT8 Due 12:30pm\n12\tMon 21-Nov\tM6.2 ROC Curves\t12.5 – 12.6 \t \n \tWed 23-Nov\tM7.1 Period Life Tables\t \t \n \tFri 25-Nov\tT9 Calculating and Plotting ROC Curves\t \t \n13\tMon 28-Nov\tM7.2 Clinical Life Tables\t18.3\t \n \tWed 30-Nov\tM7.3 Kaplan-Meier Curves\t \tProject Due 11:59pm\n \tFri 02-Dec\tT10 Life Table Methods\t \tT9 Due 12:30pm\n14\tMon 05-Dec\tTBD - Make-up class or exam review session\t \t \n \tTues 06-Dec\t(Last day of classes)\t \tT10 Due 12:30pm, Project Peer Reviews Due\n \tFri 08-Dec\tFinal Exam Period Begins (Dec 9-23)\t \tFinal Exam TBD\n\n \nTexts / Materials\nTitle / Name \tNotes / Comments \tRequired\nStat 337 Course Notes \tPosted to the course web page or hard copies are available for order from https://wstore.uwaterloo.ca/wprint \tYes\nKestenbaum, B (2019). Epidemiology and biostatistics: an introduction to clinical research. Springer (2nd edition) \tSee below \tYes\nSAS OnDemand for Academics \tAccess instructions given in Tutorial 0 \tYes\n\nThe required textbook (Kestenbaum (2019)) is available in two formats:\n\n    A free digital PDF download from https://ocul-wtl.primo.exlibrisgroup.com/permalink/01OCUL_WTL/vk29fk/alma999986675044305162\n    A physical printed book can be ordered online from wstore.ca (Price: $152.95). Note: the bookstore is no longer offering in store shopping for textbooks. All textbooks must be ordered online to be picked up at the W Store, Shipped, or delivered via Campus Housing Delivery.\n\nAdditional materials including examples from the medical literature and non-required resource texts are available through course reserves at https://www.reserves.uwaterloo.ca/ares/\nStudent Assessment\nComponent \tValue\nSAS Tutorial Exercises \t4%\nAssignments \t24%\nMidterm Exam \t16%\nProject \t16%\nFinal Exam \t40%\n\nA chart summarizing the alignment between the above Intended Learning Outcomes and the course activities and assessments is available here. \nSAS Tutorial Exercises\n\nSAS Tutorial Exercises are due by 12:30pm ET on Fridays via Learn Dropboxes (see description and schedule above). Each tutorial is graded on a pass/fail basis and is worth 0.5% for up to a total of 4% of your final grade. Successful completion of 8/10 tutorials will earn you the full 4%. No late tutorials will be accepted and no extensions will be given.\nAssignment Policies \n\nAssignments are due by 11:59pm ET via Crowdmark on Wednesdays September 28, October 26, and November 16. You will receive a personal link to submit your assignment via email at least one week before the due date. Assignments will be posted two weeks prior to their due date.\n\n    Submissions before the deadline: You can resubmit your assignment as many times as you like before the deadline.  It is your responsibility to make sure your solutions are visually clear (if your answers cannot be read you will receive a grade of zero) and that each question’s answer is uploaded separately into the correct section. Be sure to give yourself ample time to upload your solutions before the deadline.\n     \n    Late Assignments: Assignments will be accepted up to two days late with a 25% penalty assigned to each 24 hour period after the original deadline. Assignments more than 48 hours late will not be graded and will be awarded a grade of zero. \n     \n    Missed Assignments: Arrangements will be made if you miss an assignment due to a valid, documented, reason. See the section on Accommodation due to Illnes below. Note for your circumstance to be deemed valid you must have been incapacitated for a significant portion of the two-week assignment window.\n     \n    Retrieving Marked Assignments: A link to your graded assignment will be sent to you via email.\n     \n    Rules for Collaboration: Students are encouraged to discuss assignment exercises with each other, the TAs, and the course instructor. Any assistance must be limited to discussion of the problem and sketching general approaches to a solution. Each student must write their own solutions, including code (where relevant). Consulting another student’s solution is prohibited, and submitted solutions may not be copied from any source. In particular, submitting solutions copied in whole or in part from an assignment submission or solution key from a previous offering of this course, or from an offering of any other course, is forbidden, even if a student is resubmitting their own work. These and any other forms of collaboration on assignments constitute cheating. Suspected cases of cheating will be immediately forwarded to the Associate Dean. If you have any questions about whether some activity constitutes cheating, please ask the instructor.\n     \n    Requests for re-grading: You may appeal the grading of an assignment by sending an email request to the instructor within one week of the date the assessment was returned. You must provide an explanation of why you feel you deserve a different mark. Your grade may go up or down as a result.\n\nMidterm Examination\n\nThe midterm examination will be held on Monday, October 31 during the regularly scheduled lecture time. Room and seat assignments will be accessible prior to the exam through: https://odyssey.uwaterloo.ca/teaching/schedule\n\n    Calculators: Only Faculty of Mathematics approved calculators will be permitted during exams (for a list see: https://uwaterloo.ca/math/calculators )\n\nProject\n\nThe course project will consist of two parts: a written report and a pre-recorded video presentation. Students will work in groups of three to select a medical research question and report a synthesis of the results of several studies from the literature. Further details regarding the project will be released later in the term (see course schedule above).\nFinal Examination\n\nThe final examination will be scheduled by the Registrar’s Office and held during the University Exam Period (December 9 - 23, 2022). Arrangements for students with official conflicts will be handled on a case by case basis. Student travel plans are not considered acceptable grounds for granting an alternative examination time.\n\n    Incompletes: Students who are unable to complete the final exam for a valid, documented reason will only be eligible for a grade of incomplete (INC) if they have a passing grade (≥50%) on the assignment plus midterm portion of their grade going in to the final. Students who do not write the midterm for any reason are not eligible for an INC grade. Also see \"Accommodation due to Illness\" and \"Accommodation for students who cannot attend classes due to illness or self-isolation\" sections below.\n\n \nAssignment Screening\n\nAssignments and exams will be screened informally by the instructor and teaching assistants.\nNotice of Recording\n\nFor the project you will also be required to create a video presentation with your group and upload it to LEARN for assessment. For more information, see the Student Notice of Recording in the Course Information folder on LEARN.\nAdministrative Policy\n\nCOVID-19 Precautions and Contingency Planning: Students must adhere to all University of Waterloo COVID-19 mandatory safety precautions (see https://uwaterloo.ca/coronavirus/). Do not come to class or other in-person activities if you are experiencing COVID-19 symptoms or are required to self-isolate. To help you decide if you should isolate, you can use the provincial self-assessment tool. In the scenario where we must transition back online the following contingencies will be used:\nOn-campus activity\tOnline replacement\nLectures\tPre-recorded videos posted to LEARN, along with slides\nTutorials\tStudents complete and submit tutorials from home. Optional synchronous Teams meeting with instructor and/or TA available to assist and answer questions\nMidterm Exam\tTimed Crowdmark assessment at originally scheduled date and time (see schedule above)\nProject\tNo change\nFinal Exam\tTimed Crowdmark assessment at the time scheduled by the Registrar's office\n\n    Short-term (e.g., one-week) cancellation of in-person classes: We will follow the above plans\n    Long-term cancellation of in-person classes: We will follow the above plans\n    Cancellation of in-person (midterm or final) examinations: We will follow the above plans\n    Accommodation for students who cannot attend classes due to illness or self-isolation: Lecture slides will be posted to LEARN for each class. A playlist of videos from the Spring 2020 offering of the class will also be posted. These should align fairly well with the current delivery but there may be some variations in content and topics. Students are encouraged to attend virtual office hours to ask questions and clarify the material as needed. Assignments and Project work can continue online. If the student misses the midterm or final exam then alternative arrangements will be made (including but not limited to: an in-person written make-up exam, an online alternative as noted above, an oral examination).\n\nAccommodation due to Illness: When you believe your illness or circumstances will impact your academic studies you must follow the instructions on the Faculty of Mathematics' Accommodations webpage. In verified cases, alternative arrangements will be made at the discretion of the instructor (including but not limited to: an extension of the due date, moving the weight of the assessment to the final exam, an in-person written make-up exam or an oral examination).\n\nIntellectual Property and Copyright Notice: The course notes, lecture slides, assignments, exams, and written lecture notes provided to you are all under the copyright of the current and previous course instructor(s). These materials are made available for the personal use of students registered in the Spring 2022 offering of Stat 337. Students may not distribute or reproduce these materials for commercial or non-commercial means. Failure to abide by these conditions is a breach of copyright and an academic offence (see Policy 71). \n\nMental Health Support: The Faculty of Math encourages students to seek out mental health support if needed.\n\n    On-campus Resources:\n        Campus Wellness https://uwaterloo.ca/campus-wellness/\n        Counselling Services: counselling.services@uwaterloo.ca 519-888-4567 ext 32655\n        MATES: one-to-one peer support program offered by Waterloo Undergraduate Student Association (WUSA) and Counselling Services: mates@wusa.ca\n        Health Services: located across the creek from the Student Life Centre, 519-888-4096.\n    Off-campus Resources:\n        Good2Talk (24/7): Free confidential help line for post-secondary students. Phone: 1-866-925-5454 (Ontario and Nova Scotia only)\n        Here 24/7: Mental Health and Crisis Service Team. Phone: 1-844-437-3247 (Waterloo Region only)\n        OK2BME: set of support services for lesbian, gay, bisexual, transgender or questioning teens. Phone: 519-884-0000 extension 213 (Waterloo Region only)\n        EMPOWER ME  1-833-628-5589 for Cdn./USA other countries see: http://studentcare.ca/rte/en/IHaveAPlan_WUSA_EmpowerMe_EmpowerMe\n            EMPOWER ME in China:\n                China North  108007142831\n                China South  108001402851\n\nDiversity: It is our intent that students from all diverse backgrounds and perspectives be well served by this course, and that students’ learning needs be addressed both in and out of class. We recognize the immense value of the diversity in identities, perspectives, and contributions that students bring, and the benefit it has on our educational environment. Your suggestions are encouraged and appreciated. Please let us know ways to improve the effectiveness of the course for you personally or for other students or student groups. In particular:\n\n    We will gladly honour your request to address you by an alternate/preferred name or gender pronoun. Please advise us of this preference early in the semester so we may make appropriate changes to our records.\n    We will honour your religious holidays and celebrations. Please inform of us these at the start of the course.\n    We will follow AccessAbility Services guidelines and protocols on how to best support students with different learning needs.\n\n \nUniversity Policy\n\nAcademic integrity: In order to maintain a culture of academic integrity, members of the University of Waterloo community are expected to promote honesty, trust, fairness, respect and responsibility. [Check the Office of Academic Integrity for more information.]\n\nGrievance: A student who believes that a decision affecting some aspect of their university life has been unfair or unreasonable may have grounds for initiating a grievance. Read Policy 70, Student Petitions and Grievances, Section 4. When in doubt, please be certain to contact the department’s administrative assistant who will provide further assistance.\n\nDiscipline: A student is expected to know what constitutes academic integrity to avoid committing an academic offence, and to take responsibility for their actions. [Check the Office of Academic Integrity for more information.] A student who is unsure whether an action constitutes an offence, or who needs help in learning how to avoid offences (e.g., plagiarism, cheating) or about “rules” for group work/collaboration should seek guidance from the course instructor, academic advisor, or the undergraduate associate dean. For information on categories of offences and types of penalties, students should refer to Policy 71, Student Discipline. For typical penalties, check Guidelines for the Assessment of Penalties.\n\nAppeals: A decision made or penalty imposed under Policy 70, Student Petitions and Grievances (other than a petition) or Policy 71, Student Discipline may be appealed if there is a ground. A student who believes they have a ground for an appeal should refer to Policy 72, Student Appeals.\n\nNote for students with disabilities: AccessAbility Services, located in Needles Hall, Room 1401, collaborates with all academic departments to arrange appropriate accommodations for students with disabilities without compromising the academic integrity of the curriculum. If you require academic accommodations to lessen the impact of your disability, please register with AccessAbility Services at the beginning of each academic term.\n\nTurnitin.com: Text matching software (Turnitin®) may be used to screen assignments in this course. Turnitin® is used to verify that all materials and sources in assignments are documented. Students' submissions are stored on a U.S. server, therefore students must be given an alternative (e.g., scaffolded assignment or annotated bibliography), if they are concerned about their privacy and/or security. Students will be given due notice, in the first week of the term and/or at the time assignment details are provided, about arrangements and alternatives for the use of Turnitin in this course.\n\nIt is the responsibility of the student to notify the instructor if they, in the first week of term or at the time assignment details are provided, wish to submit alternate assignment.\n"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "Here are the important dates from the text, broken down for clarity:\n\n**Course Dates:**\n\n* **Fall 2022:** The course runs throughout the Fall 2022 semester.\n* **September 7 - December 6:** This is the main class schedule period for both lectures and tutorials.\n* **December 9 - 23:**  This is the University Exam Period, when the final exam is scheduled. \n\n**Specific Dates:**\n\n* **September 6, 2022:** Course outline published.\n* **September 7:**  First lecture and tutorial.\n* **September 9:** No tutorial, but T0 (How to Access SAS University) is due this week.\n* **September 16:** T1 (Welcome to SAS) due.\n* **September 28:** A1 (Assignment 1) due by 11:59 pm ET.\n* **September 30:** T2 (Standardization of Rates) due.\n* **October 3, 2022:**  A2 Released.\n* **October 5:** T3 (Cohort Studies: Measures of Association) due.\n* **October 7:** T4 (Chi-squared Tests, Confounding, and Sample Size) due.\n* **October 10:** Thanksgiving (No class).\n* **October 12 & 14:** Reading Week (No classes or tutorials).\n* **October 17:** Project Released.\n* **October 21:** T5 (Linear Regression) due.\n* **October 26:** A2 due by 11:59 pm ET, deadline to form project groups.\n* **October 28:** T6 (Analysis of Case-Control Studies) due.\n* **October 31:** Midterm exam during lecture time.\n* **November 2, 2022:**  A3 Released, Project proposals due.\n* **November 4:** T7 (Logistic Regression) due.\n* **November 11:** T8 (Randomized Controlled Trials) due.\n* **November 16:** A3 due by 11:59 pm ET.\n* **November 18:** No tutorial.\n* **November 25:** T9 (Calculating and Plotting ROC Curves) due.\n* **November 30:** Project due by 11:59 pm ET.\n* **December 2:** T10 (Life Table Methods) due. \n* **December 5:** TBD - Make-up class or exam review session.\n* **December 6:** Last day of classes, T10 due by 12:30 pm, Project peer reviews due.\n* **December 8:** Final exam period begins (December 9-23), final exam TBD. \n\n**Key Notes:**\n\n* All SAS Tutorial exercises are due by 12:30 pm ET on Fridays.\n* All assignments (A1, A2, A3) are due by 11:59 pm ET on Wednesdays. \n* The midterm exam is on October 31 during the regularly scheduled lecture time.\n* The final exam is scheduled sometime between December 9th and December 23rd (exact date to be announced by the Registrar).\n\nRemember: This is a tentative schedule, and changes might occur. It is always best to refer to the course's LEARN page or contact the instructor for the most up-to-date information. \n"},
        ],
      },
    ],
  });



  const outline = ''

  const result = await chatSession.sendMessage(outline);
  console.log(result.response.text());
}

run();